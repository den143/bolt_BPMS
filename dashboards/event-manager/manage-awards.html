<section id="manageAwardsView" class="dashboard-view">
  <div class="page-header">
    <div>
      <h1 class="event-title">Manage Awards</h1>
      <p class="page-subtitle">Define awards and assign winners without affecting advancement</p>
    </div>
    <button id="addAwardBtn" class="submit-button">Add Award</button>
  </div>

  <div class="filters-bar">
    <input id="awardSearch" class="form-input" type="text" placeholder="Search award name">
    <div style="display:grid; grid-template-columns: 1fr 1fr 1fr; gap:0.75rem">
      <select id="filterAwardType" class="form-input form-select">
        <option value="">All Types</option>
        <option value="Automatic">Automatic</option>
        <option value="Audience">Audience Vote</option>
        <option value="Manual">Manual Selection</option>
      </select>
      <select id="filterAwardScope" class="form-input form-select">
        <option value="">All Scopes</option>
        <option value="Event">Event</option>
        <option value="Round">Round</option>
        <option value="Segment">Segment</option>
      </select>
      <select id="filterAwardStatus" class="form-input form-select">
        <option value="">All Status</option>
        <option value="Draft">Draft</option>
        <option value="Ready">Ready</option>
        <option value="Awarded">Awarded</option>
        <option value="Deactivated">Deactivated</option>
      </select>
    </div>
  </div>

  <div class="recent-registrations-card">
    <h2 class="section-title">Awards</h2>
    <table class="data-table" id="awardsTable">
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Scope</th>
          <th>Rule</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody id="awardsTbody">
        <tr>
          <td colspan="6" class="empty-state"><div class="empty-state-text">No awards yet</div></td>
        </tr>
      </tbody>
    </table>
  </div>
</section>

<div id="awardModal" class="modal hidden" role="dialog" aria-labelledby="awardModalTitle" aria-hidden="true">
  <div class="modal-overlay"></div>
  <div class="modal-content" style="width:min(95vw, 1100px); max-width:1100px; height:85vh; max-height:85vh; display:flex; flex-direction:column; overflow-y:auto">
    <h3 id="awardModalTitle" class="modal-title">Add Award</h3>
    <form id="awardForm" class="modal-form" novalidate>
      <div class="modal-body">
        <div id="awardError" class="error-message" style="display:none"></div>
        <div class="form-group">
          <label for="awardName" class="form-label">Award Name</label>
          <div class="input-wrapper">
            <input id="awardName" type="text" class="form-input" placeholder="e.g., Best in Swimsuit" required>
          </div>
        </div>

        <div class="form-group">
          <label for="awardDescription" class="form-label">Description (optional)</label>
          <div class="input-wrapper">
            <input id="awardDescription" type="text" class="form-input" placeholder="Short description">
          </div>
        </div>

        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:0.75rem">
          <div class="form-group">
            <label for="awardType" class="form-label">Award Type</label>
            <div class="input-wrapper">
              <select id="awardType" class="form-input form-select" required>
                <option value="">Select type</option>
                <option value="Automatic">Automatic (segment-based)</option>
                <option value="Audience">Audience Vote</option>
                <option value="Manual">Manual Selection</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label for="awardScope" class="form-label">Award Scope</label>
            <div class="input-wrapper">
              <select id="awardScope" class="form-input form-select" required>
                <option value="">Select scope</option>
                <option value="Event">Entire Event</option>
                <option value="Round">Specific Round</option>
                <option value="Segment">Specific Segment</option>
              </select>
            </div>
          </div>
        </div>

        <div id="scopeSelectors" style="display:none; display:grid; grid-template-columns: 1fr 1fr; gap:0.75rem">
          <div class="form-group" id="roundSelectorWrapper" style="display:none">
            <label for="awardRound" class="form-label">Round</label>
            <div class="input-wrapper">
              <select id="awardRound" class="form-input form-select"></select>
            </div>
          </div>
          <div class="form-group" id="segmentSelectorWrapper" style="display:none">
            <label for="awardSegment" class="form-label">Segment</label>
            <div class="input-wrapper">
              <select id="awardSegment" class="form-input form-select"></select>
            </div>
          </div>
        </div>

        <div id="automaticSettings" style="display:none">
          <div class="form-group">
            <label class="form-label">Tie Handling</label>
            <div class="input-wrapper">
              <label style="display:flex; align-items:center; gap:0.5rem"><input type="checkbox" id="autoAllowMultiple"> Allow multiple winners</label>
            </div>
          </div>
        </div>

        <div id="audienceSettings" style="display:none">
          <div class="form-group">
            <label class="form-label">Audience Voting</label>
            <div class="input-wrapper">
              <span id="audienceVotingNote" class="info-message" style="margin-top:0.25rem"></span>
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">Tie Handling</label>
            <div class="input-wrapper">
              <label style="display:flex; align-items:center; gap:0.5rem"><input type="checkbox" id="audAllowMultiple"> Allow multiple winners</label>
            </div>
          </div>
        </div>

        <div id="manualSettings" style="display:none">
          <div class="form-group">
            <label class="form-label">Select Winners</label>
            <div class="input-wrapper">
              <select id="manualWinners" class="form-input form-select" multiple></select>
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">Justification (optional)</label>
            <div class="input-wrapper">
              <input id="manualJustification" type="text" class="form-input" placeholder="Brief reason">
            </div>
          </div>
        </div>
      </div>
      <div class="modal-actions" style="flex:0 0 auto; background:#fff; padding-top:0.5rem; border-top:1px solid #eee; position:sticky; bottom:0">
        <button type="button" id="cancelAward" class="submit-button secondary-button">Cancel</button>
        <button type="submit" class="submit-button">Save Award</button>
      </div>
    </form>
  </div>
</div>

<div id="awardWinnersModal" class="modal hidden" role="dialog" aria-labelledby="awardWinnersTitle" aria-hidden="true">
  <div class="modal-overlay"></div>
  <div class="modal-content" style="width:min(90vw, 720px)">
    <h3 id="awardWinnersTitle" class="modal-title">Award Winners</h3>
    <div id="awardWinnersBody" class="modal-body"></div>
    <div class="modal-actions">
      <button type="button" id="closeWinners" class="submit-button secondary-button">Close</button>
    </div>
  </div>
</div>
